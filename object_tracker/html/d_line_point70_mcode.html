<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="47,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T4U3">d</span>, <span class="var type1" id="S3T4U4">lambda</span>, <span class="var type1" id="S4T4U5">sgn</span>] = d_line_point(<span class="var type1" id="S5T13U8">P</span>, <span class="var type1" id="S6T13U9">Q</span>, <span class="var type1" id="S7T13U10">M</span>) </span></span>
<span class="srcline"><span class="lineno"><a href="47,2" id="srcline2"> 2</a></span><span class="line"><span class="comment">%Abstand d zwischen der Gerade g (von P in Richtung Q) und dem Punkt M</span></span></span>
<span class="srcline"><span class="lineno"><a href="47,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">%S ist der Punkt auf g mit kleinstem Abstand zu M</span></span></span>
<span class="srcline"><span class="lineno"><a href="47,4" id="srcline4"> 4</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="47,5" id="srcline5"> 5</a></span><span class="line"><span class="mxinfo " id="T13:U7"><span class="var type1" id="S8T13U13">v</span> = <span class="mxinfo " id="T13:U9"><span class="var type1" id="S6T13U15">Q</span>-<span class="var type1" id="S5T13U16">P</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="47,6" id="srcline6"> 6</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="47,7" id="srcline7"> 7</a></span><span class="line"><span class="mxinfo " id="T4:U12"><span class="var type1" id="S3T4U19">lambda</span> = <span class="mxinfo " id="T4:U14"><span class="mxinfo " id="T4:U15">- (<span class="mxinfo " id="T4:U16"><span class="mxinfo " id="T4:U17"><span class="mxinfo " id="T4:U18"><span class="var type1" id="S8T13U26">v</span>(<span class="mxinfo " id="T4:U20">1</span>)</span>*(<span class="mxinfo " id="T4:U21"><span class="mxinfo " id="T4:U22"><span class="var type1" id="S5T13U31">P</span>(<span class="mxinfo " id="T4:U24">1</span>)</span>-<span class="mxinfo " id="T4:U25"><span class="var type1" id="S7T13U34">M</span>(<span class="mxinfo " id="T4:U27">1</span>)</span></span>)</span> + <span class="mxinfo " id="T4:U28"><span class="mxinfo " id="T4:U29"><span class="var type1" id="S8T13U38">v</span>(<span class="mxinfo " id="T4:U31">2</span>)</span>*(<span class="mxinfo " id="T4:U32"><span class="mxinfo " id="T4:U33"><span class="var type1" id="S5T13U43">P</span>(<span class="mxinfo " id="T4:U35">2</span>)</span>-<span class="mxinfo " id="T4:U36"><span class="var type1" id="S7T13U46">M</span>(<span class="mxinfo " id="T4:U38">2</span>)</span></span>)</span></span>)</span>/(<span class="mxinfo " id="T4:U39"><span class="mxinfo " id="T4:U40"><span class="mxinfo " id="T4:U41"><span class="var type1" id="S8T13U52">v</span>(<span class="mxinfo " id="T4:U43">1</span>)</span>^2</span> + <span class="mxinfo " id="T4:U44"><span class="mxinfo " id="T4:U45"><span class="var type1" id="S8T13U57">v</span>(<span class="mxinfo " id="T4:U47">2</span>)</span>^2</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="47,8" id="srcline8"> 8</a></span><span class="line"><span class="mxinfo " id="T13:U48"><span class="var type1" id="S9T13U62">S</span> = <span class="mxinfo " id="T13:U50"><span class="var type1" id="S5T13U64">P</span> + <span class="mxinfo " id="T13:U52"><span class="var type1" id="S3T4U66">lambda</span>*<span class="var type1" id="S8T13U67">v</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="47,9" id="srcline9"> 9</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="47,10" id="srcline10">10</a></span><span class="line"><span class="comment">%Kreuzprodukt f√ºr Vorzeichen von d</span></span></span>
<span class="srcline"><span class="lineno"><a href="47,11" id="srcline11">11</a></span><span class="line"><span class="mxinfo " id="T13:U55"><span class="var type1" id="S10T13U70">PS</span> = <span class="mxinfo " id="T13:U57"><span class="var type1" id="S9T13U72">S</span>-<span class="var type1" id="S5T13U73">P</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="47,12" id="srcline12">12</a></span><span class="line"><span class="mxinfo " id="T13:U60"><span class="var type1" id="S11T13U76">SM</span> = <span class="mxinfo " id="T13:U62"><span class="var type1" id="S7T13U78">M</span>-<span class="var type1" id="S9T13U79">S</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="47,13" id="srcline13">13</a></span><span class="line"><span class="mxinfo " id="T18:U65"><span class="var type1" id="S12T18U82">cp</span> = <span class="mxinfo " id="T18:U67">cross(<span class="mxinfo " id="T18:U68">[<span class="var type1" id="S10T13U87">PS</span>, <span class="mxinfo " id="T4:U70">0</span>]</span>,<span class="mxinfo " id="T18:U71">[<span class="var type1" id="S11T13U91">SM</span>, <span class="mxinfo " id="T4:U73">0</span>]</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="47,14" id="srcline14">14</a></span><span class="line"><span class="mxinfo " id="T4:U74"><span class="var type1" id="S4T4U95">sgn</span> = <span class="mxinfo " id="T4:U76">sign(<span class="mxinfo " id="T4:U77"><span class="var type1" id="S12T18U99">cp</span>(<span class="mxinfo " id="T4:U79">3</span>)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="47,15" id="srcline15">15</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="47,16" id="srcline16">16</a></span><span class="line"><span class="mxinfo " id="T4:U80"><span class="var type1" id="S2T4U103">d</span> = <span class="mxinfo " id="T4:U82">sqrt(<span class="mxinfo " id="T4:U83"><span class="mxinfo " id="T4:U84">(<span class="mxinfo " id="T4:U85"><span class="mxinfo " id="T4:U86"><span class="var type1" id="S7T13U111">M</span>(<span class="mxinfo " id="T4:U88">1</span>)</span>-<span class="mxinfo " id="T4:U89"><span class="var type1" id="S9T13U114">S</span>(<span class="mxinfo " id="T4:U91">1</span>)</span></span>)^2</span> + <span class="mxinfo " id="T4:U92">(<span class="mxinfo " id="T4:U93"><span class="mxinfo " id="T4:U94"><span class="var type1" id="S7T13U121">M</span>(<span class="mxinfo " id="T4:U96">2</span>)</span>-<span class="mxinfo " id="T4:U97"><span class="var type1" id="S9T13U124">S</span>(<span class="mxinfo " id="T4:U99">2</span>)</span></span>)^2</span></span>)</span></span>;</span></span>
</pre>
